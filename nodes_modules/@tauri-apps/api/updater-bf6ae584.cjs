"use strict";var t=require("./tslib.es6-2b0ec40b.cjs"),n=require("./event-4cb7a3db.cjs");function r(){return t.__awaiter(this,void 0,void 0,(function(){function r(){e&&e(),e=void 0}var e;return t.__generator(this,(function(t){return[2,new Promise((function(t,i){n.listen("tauri://update-status",(function(n){var e;(e=null==n?void 0:n.payload).error?(r(),i(e.error)):"DONE"===e.status&&(r(),t())})).then((function(t){e=t})).catch((function(t){throw r(),t})),n.emit("tauri://update-install").catch((function(t){throw r(),t}))}))]}))}))}function e(){return t.__awaiter(this,void 0,void 0,(function(){function r(){e&&e(),e=void 0}var e;return t.__generator(this,(function(t){return[2,new Promise((function(t,i){n.once("tauri://update-available",(function(n){var e;e=null==n?void 0:n.payload,r(),t({manifest:e,shouldUpdate:!0})})).catch((function(t){throw r(),t})),n.listen("tauri://update-status",(function(n){var e;(e=null==n?void 0:n.payload).error?(r(),i(e.error)):"UPTODATE"===e.status&&(r(),t({shouldUpdate:!1}))})).then((function(t){e=t})).catch((function(t){throw r(),t})),n.emit("tauri://update").catch((function(t){throw r(),t}))}))]}))}))}var i=Object.freeze({__proto__:null,installUpdate:r,checkUpdate:e});exports.checkUpdate=e,exports.installUpdate=r,exports.updater=i;
